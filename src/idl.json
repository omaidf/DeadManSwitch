{"version":"0.1.0","name":"dead_mans_switch","instructions":[{"name":"createSwitch","accounts":[{"name":"switch","isMut":true,"isSigner":false},{"name":"owner","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"id","type":"u64"},{"name":"pingInterval","type":"i64"},{"name":"encryptedData","type":"bytes"}]},{"name":"ping","accounts":[{"name":"switch","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true}],"args":[]},{"name":"checkExpiration","accounts":[{"name":"switch","isMut":false,"isSigner":false}],"args":[],"returns":"bool"},{"name":"getSwitchInfo","accounts":[{"name":"switch","isMut":false,"isSigner":false}],"args":[],"returns":{"defined":"SwitchInfo"}},{"name":"deactivateSwitch","accounts":[{"name":"switch","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true}],"args":[]},{"name":"closeSwitch","accounts":[{"name":"switch","isMut":true,"isSigner":false},{"name":"owner","isMut":true,"isSigner":true}],"args":[]}],"accounts":[{"name":"DeadManSwitch","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"lastPing","type":"i64"},{"name":"pingInterval","type":"i64"},{"name":"encryptedData","type":{"array":["u8",512]}},{"name":"dataLength","type":"u16"},{"name":"createdAt","type":"i64"},{"name":"active","type":"bool"},{"name":"bump","type":"u8"}]}}],"types":[{"name":"SwitchInfo","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"expired","type":"bool"},{"name":"lastPing","type":"i64"},{"name":"pingInterval","type":"i64"},{"name":"createdAt","type":"i64"},{"name":"expirationTime","type":"i64"},{"name":"currentTime","type":"i64"}]}}],"events":[{"name":"SwitchCreated","fields":[{"name":"switch","type":"publicKey","index":false},{"name":"owner","type":"publicKey","index":false},{"name":"switchId","type":"u64","index":false},{"name":"pingInterval","type":"i64","index":false},{"name":"expirationTime","type":"i64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"SwitchPinged","fields":[{"name":"owner","type":"publicKey","index":false},{"name":"switchKey","type":"publicKey","index":false},{"name":"nextRequiredPing","type":"i64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"SwitchDeactivated","fields":[{"name":"switch","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"SwitchClosed","fields":[{"name":"switch","type":"publicKey","index":false},{"name":"owner","type":"publicKey","index":false},{"name":"recoveredLamports","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"InvalidInterval","msg":"Ping interval must be between 60 seconds and 1 year"},{"code":6001,"name":"DataTooLarge","msg":"Encrypted data is too large (max 512 bytes)"},{"code":6002,"name":"EmptyData","msg":"Encrypted data cannot be empty"},{"code":6003,"name":"TimeOverflow","msg":"Time overflow during calculation"},{"code":6004,"name":"InvalidSwitchId","msg":"Invalid switch ID"},{"code":6005,"name":"Unauthorized","msg":"Unauthorized operation"},{"code":6006,"name":"InactiveSwitch","msg":"Switch is not active"},{"code":6007,"name":"ActiveSwitch","msg":"Switch is still active"},{"code":6008,"name":"NotExpired","msg":"Switch has not expired yet"},{"code":6009,"name":"InvalidTimestamp","msg":"Invalid timestamp detected"},{"code":6010,"name":"ArithmeticOverflow","msg":"Arithmetic overflow occurred"},{"code":6011,"name":"AlreadyInactive","msg":"Switch is already inactive"}]}